<!--无边框组件-->
<template>
  <div class="header" >
    <div class="tool-frameless" style="--wails-draggable: drag">
      <el-tag class="ml-2" type="danger">MoocDownload</el-tag>
      <!--窗口置顶-->
      <el-button
        style="--wails-draggable: no-drag"
        v-if="!isTop"
        type="primary"
        @click="onClickTop"
        color="#ffffff"
      >
        <el-icon>
          <svg
            t="1677767402388"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="10727"
            width="200"
            height="200"
          >
            <path
              d="M320.32 704.18c14.058 14.06 14.058 36.854 0 50.913L125.864 949.547c-14.06 14.059-36.853 14.059-50.912 0-14.059-14.059-14.059-36.853 0-50.912l194.454-194.454c14.06-14.059 36.853-14.059 50.912 0z m629.906-396.904c14.818 14.818 13.897 39.112-2 52.766L717.082 558.556l0.667 2.734c27.425 114.91-4.257 237.542-87.885 325.02l-2.745 2.84-2.725 2.759c-14.036 14.195-36.941 14.26-51.057 0.144L126.447 445.162c-14.06-14.059-14.06-36.853 0-50.912 90.247-90.248 220.23-123.274 340.164-91.125l2.991 0.82 195.22-227.306c13.517-15.74 37.463-16.8 52.322-2.445z m-78.374 23.45L694.138 153.011 508.752 368.87a36 36 0 0 1-38.937 10.616l-3.106-1.086c-88.26-30.386-185.781-14.902-260.063 41.255l-2.2 1.682 392.717 392.718 0.874-1.132c54.977-71.991 71.575-166.167 44.804-252.737l-1.07-3.393a36 36 0 0 1 10.96-37.877l219.12-188.19z"
              fill="#333333"
              p-id="10728"
            ></path>
          </svg>
        </el-icon>
      </el-button>
      <!--窗口置顶取消-->
      <el-button
        style="--wails-draggable: no-drag"
        v-if="isTop"
        type="primary"
        @click="onClickTop"
        color="#ffffff"
      >
        <el-icon>
          <svg
            t="1677767443719"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="10888"
            width="200"
            height="200"
          >
            <path
              d="M320.32 704.18c14.058 14.06 14.058 36.854 0 50.913L125.864 949.547c-14.06 14.059-36.853 14.059-50.912 0-14.059-14.059-14.059-36.853 0-50.912l194.454-194.454c14.06-14.059 36.853-14.059 50.912 0z m629.906-396.904c14.818 14.818 13.897 39.112-2 52.766L717.082 558.556l0.667 2.734c27.425 114.91-4.257 237.542-87.885 325.02l-2.745 2.84-2.725 2.759c-14.036 14.195-36.941 14.26-51.057 0.144L126.447 445.162c-14.06-14.059-14.06-36.853 0-50.912 90.247-90.248 220.23-123.274 340.164-91.125l2.991 0.82 195.22-227.306c13.517-15.74 37.463-16.8 52.322-2.445z m-78.374 23.45L694.138 153.011 508.752 368.87a36 36 0 0 1-38.937 10.616l-3.106-1.086c-88.26-30.386-185.781-14.902-260.063 41.255l-2.2 1.682 392.717 392.718 0.874-1.132c54.977-71.991 71.575-166.167 44.804-252.737l-1.07-3.393a36 36 0 0 1 10.96-37.877l219.12-188.19z"
              fill="#d81e06"
              p-id="10889"
            ></path>
          </svg>
        </el-icon>
      </el-button>
      <!--最小化-->
      <el-button
        style="--wails-draggable: no-drag"
        type="primary"
        @click="onclickMinimise"
        color="#ffffff"
      >
        <el-icon>
          <svg
            t="1677763351142"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="5267"
            width="200"
            height="200"
          >
            <path
              d="M65.23884 456.152041 958.760137 456.152041l0 111.695918L65.23884 567.847959 65.23884 456.152041z"
              fill="#515151"
              p-id="5268"
            ></path>
          </svg>
        </el-icon>
      </el-button>
      <!--全屏-->
      <el-button
        style="--wails-draggable: no-drag"
        v-if="!isFullScreen"
        type="primary"
        @click="onclickFullScreen"
        color="#ffffff"
      >
        <el-icon>
          <svg
            t="1677766402037"
            class="icon"
            viewBox="0 0 1365 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="6190"
            width="200"
            height="200"
          >
            <path
              d="M1140.982158 0C1171.511117 0 1196.259731 24.748613 1196.259731 55.277574L1196.259731 481.802069C1196.259731 512.331031 1171.511117 537.079644 1140.982158 537.079644 1110.453196 537.079644 1085.704583 512.331031 1085.704583 481.802069L1085.704583 55.277574 1140.982158 110.555148 707.290659 110.555148C676.761697 110.555148 652.013084 85.806535 652.013084 55.277574 652.013084 24.748613 676.761697 0 707.290659 0L1140.982158 0ZM223.896216 1024.028434C193.367257 1024.028434 168.618642 999.279821 168.618642 968.75086L168.618642 542.226364C168.618642 511.697403 193.367257 486.94879 223.896216 486.94879 254.425178 486.94879 279.17379 511.697403 279.17379 542.226364L279.17379 968.75086 223.896216 913.473286 657.587715 913.473286C688.116677 913.473286 712.865289 938.221898 712.865289 968.75086 712.865289 999.279821 688.116677 1024.028434 657.587715 1024.028434L223.896216 1024.028434Z"
              fill="#283F52"
              p-id="6191"
            ></path>
          </svg>
        </el-icon>
      </el-button>
      <!--从全屏恢复-->
      <el-button
        style="--wails-draggable: no-drag"
        v-if="isFullScreen"
        type="primary"
        @click="onclickFullScreen"
        color="#ffffff"
      >
        <el-icon>
          <svg
            t="1677766607689"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="8006"
            width="400"
            height="400"
          >
            <path
              d="M423.212394 626.374813H60.897551c-14.328836 0-25.587206-11.258371-25.587206-25.587207s11.258371-25.587206 25.587206-25.587206h361.803099c14.328836 0 25.587206 11.258371 25.587206 25.587206s-11.258371 25.587206-25.075462 25.587207z"
              fill="#2c2c2c"
              p-id="8007"
            ></path>
            <path
              d="M423.212394 988.689655c-14.328836 0-25.587206-11.258371-25.587207-25.587206v-361.803099c0-14.328836 11.258371-25.587206 25.587207-25.587206s25.587206 11.258371 25.587206 25.587206v361.803099c0 13.817091-11.770115 25.587206-25.587206 25.587206z"
              fill="#2c2c2c"
              p-id="8008"
            ></path>
            <path
              d="M25.587206 1024c-6.652674 0-13.305347-2.558721-17.911044-7.676162-10.234883-10.234883-10.234883-26.098951 0-36.333833l398.136931-398.136932c10.234883-10.234883 26.098951-10.234883 36.333834 0s10.234883 26.098951 0 36.333834L43.498251 1016.323838c-4.605697 5.117441-11.258371 7.676162-17.911045 7.676162z"
              fill="#2c2c2c"
              p-id="8009"
            ></path>
            <path
              d="M962.590705 449.311344h-361.803099c-14.328836 0-25.587206-11.258371-25.587206-25.587206s11.258371-25.587206 25.587206-25.587206h361.803099c14.328836 0 25.587206 11.258371 25.587206 25.587206s-11.770115 25.587206-25.587206 25.587206z"
              fill="#2c2c2c"
              p-id="8010"
            ></path>
            <path
              d="M600.275862 449.311344c-14.328836 0-25.587206-11.258371-25.587206-25.587206V61.409295c0-14.328836 11.258371-25.587206 25.587206-25.587206s25.587206 11.258371 25.587206 25.587206v361.803099c0 14.328836-11.258371 26.098951-25.587206 26.09895z"
              fill="#2c2c2c"
              p-id="8011"
            ></path>
            <path
              d="M599.764118 449.823088c-6.652674 0-13.305347-2.558721-17.911045-7.676161-10.234883-10.234883-10.234883-26.098951 0-36.333834l398.136932-398.136931c10.234883-10.234883 26.098951-10.234883 36.333833 0s10.234883 26.098951 0 36.333833l-398.136931 398.136932c-5.117441 5.117441-11.770115 7.676162-18.422789 7.676161z"
              fill="#2c2c2c"
              p-id="8012"
            ></path>
          </svg>
        </el-icon>
      </el-button>
      <!--关闭-->
      <el-button
        style="--wails-draggable: no-drag"
        type="primary"
        @click="onclickQuit"
        color="#ffffff"
      >
        <el-icon>
          <svg
            t="1677763261841"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="4455"
            width="200"
            height="200"
          >
            <path
              d="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z"
              fill="#444444"
              p-id="4456"
            ></path>
          </svg>
        </el-icon>
      </el-button>
    </div>
    <div class="container">
      <el-button
        size="large"
        circle
        @click="aboutDrawer = true"
      >
        <el-icon>
          <svg
            t="1677858541202"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="3098"
            width="400"
            height="400"
          >
            <path
              d="M512 84.473c223.010 0 406.194 183.186 406.194 406.194s-183.186 406.194-406.194 406.194c-223.010 0-406.194-183.186-406.194-406.194 0-223.010 183.186-406.194 406.194-406.194zM512 40.667c-248.894 0-450 201.106-450 450s201.106 450 450 450c248.894 0 450-201.106 450-450 0-248.894-201.106-450-450-450v0zM543.858 640.004c-17.92 17.92-41.814 33.849-49.778 39.823 3.982-21.902 23.894-71.682 49.778-157.3 25.884-87.61 27.877-101.549 27.877-109.513 0-11.947-3.983-23.894-13.938-31.858-21.903-17.92-57.743-13.938-103.539 11.947-23.894 13.938-49.778 35.841-79.645 69.69l-15.929 15.929 51.771 39.823 11.947-13.938c13.938-11.947 45.796-39.823 51.771-45.796-39.823 129.425-79.645 226.99-79.645 262.832 0 15.929 5.973 29.867 13.938 39.823 9.955 9.955 23.894 15.929 39.823 15.929 13.938 0 31.859-5.973 53.761-17.92 17.92-11.947 45.796-33.849 85.62-71.682l15.929-15.929-45.796-45.796-13.938 13.938zM504.035 217.879c-9.955 11.947-15.929 27.877-15.929 45.796 0 15.929 3.982 27.877 13.938 37.832 9.955 9.955 21.903 15.929 35.841 15.929 11.947 0 27.877-3.982 43.806-21.902 11.947-11.947 17.92-27.877 17.92-45.796 0-13.938-3.983-27.877-13.938-37.832-19.912-19.912-57.743-17.92-81.637 5.973v0z"
              p-id="3099"
            ></path>
          </svg>
        </el-icon>
      </el-button>
      <el-drawer v-model="aboutDrawer" title="关于" size="80%" direction="ttb">
        <about-page />
      </el-drawer>
    </div>
  </div>
</template>

<script setup lang="ts">
import {
  WindowMinimise,
  WindowToggleMaximise,
  Quit,
  WindowSetAlwaysOnTop,
  EventsOn,
  EventsEmit,
} from "../../../wailsjs/runtime";
import AboutPage from "@/components/about-page/about-page.vue";
import { onMounted, ref } from "vue";

const isFullScreen = ref(false);
const isTop = ref(false);
const aboutDrawer = ref(false);
const onClickTop = () => {
  isTop.value = !isTop.value;
  WindowSetAlwaysOnTop(isTop.value);
};
const onclickMinimise = () => {
  WindowMinimise();
};

const onclickQuit = () => {
  Quit();
};

const onclickFullScreen = () => {
  console.log(isFullScreen.value);
  isFullScreen.value = !isFullScreen.value;

  WindowToggleMaximise();
};
// onMounted(() => {
//   // 向 go 发送全屏操作
//   EventsEmit("","");
// });
</script>

<style lang="scss" scoped>
.header {
  background-color: #ffffff;
  .tool-frameless {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    //margin-right: 1px;
  }
}
</style>
